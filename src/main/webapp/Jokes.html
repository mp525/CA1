<!DOCTYPE html>
<html>
    <head>
        <title>Jokes</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <style>
            table, td, tr {
                border: 2px solid black;
                border-collapse: collapse;
                border-width: 0px;
                padding: 10px;
                border-top-width: 2px;
                border-top-color: lightgray;
            }
            tr,th,d,h1{
                color: white;
            }
            
            th {
                text-align: left;
                border: 2px solid black;
                border-collapse: collapse;
                border-width: 0px;
                padding: 10px;
                border-top-width: 2px;
                border-top-color: lightgray;
                
            }

            body{
background: rgba(124,26,9,1);
background: -moz-linear-gradient(left, rgba(124,26,9,1) 0%, rgba(173,22,5,1) 10%, rgba(114,16,4,1) 13%, rgba(173,22,5,1) 18%, rgba(114,16,4,1) 28%, rgba(173,22,5,1) 43%, rgba(114,16,4,1) 50%, rgba(173,22,5,1) 59%, rgba(114,16,4,1) 63%, rgba(173,25,5,1) 75%, rgba(114,16,4,1) 82%, rgba(173,22,5,1) 88%, rgba(98,19,9,1) 95%, rgba(84,19,13,1) 100%);
background: -webkit-gradient(left top, right top, color-stop(0%, rgba(124,26,9,1)), color-stop(10%, rgba(173,22,5,1)), color-stop(13%, rgba(114,16,4,1)), color-stop(18%, rgba(173,22,5,1)), color-stop(28%, rgba(114,16,4,1)), color-stop(43%, rgba(173,22,5,1)), color-stop(50%, rgba(114,16,4,1)), color-stop(59%, rgba(173,22,5,1)), color-stop(63%, rgba(114,16,4,1)), color-stop(75%, rgba(173,25,5,1)), color-stop(82%, rgba(114,16,4,1)), color-stop(88%, rgba(173,22,5,1)), color-stop(95%, rgba(98,19,9,1)), color-stop(100%, rgba(84,19,13,1)));
background: -webkit-linear-gradient(left, rgba(124,26,9,1) 0%, rgba(173,22,5,1) 10%, rgba(114,16,4,1) 13%, rgba(173,22,5,1) 18%, rgba(114,16,4,1) 28%, rgba(173,22,5,1) 43%, rgba(114,16,4,1) 50%, rgba(173,22,5,1) 59%, rgba(114,16,4,1) 63%, rgba(173,25,5,1) 75%, rgba(114,16,4,1) 82%, rgba(173,22,5,1) 88%, rgba(98,19,9,1) 95%, rgba(84,19,13,1) 100%);
background: -o-linear-gradient(left, rgba(124,26,9,1) 0%, rgba(173,22,5,1) 10%, rgba(114,16,4,1) 13%, rgba(173,22,5,1) 18%, rgba(114,16,4,1) 28%, rgba(173,22,5,1) 43%, rgba(114,16,4,1) 50%, rgba(173,22,5,1) 59%, rgba(114,16,4,1) 63%, rgba(173,25,5,1) 75%, rgba(114,16,4,1) 82%, rgba(173,22,5,1) 88%, rgba(98,19,9,1) 95%, rgba(84,19,13,1) 100%);
background: -ms-linear-gradient(left, rgba(124,26,9,1) 0%, rgba(173,22,5,1) 10%, rgba(114,16,4,1) 13%, rgba(173,22,5,1) 18%, rgba(114,16,4,1) 28%, rgba(173,22,5,1) 43%, rgba(114,16,4,1) 50%, rgba(173,22,5,1) 59%, rgba(114,16,4,1) 63%, rgba(173,25,5,1) 75%, rgba(114,16,4,1) 82%, rgba(173,22,5,1) 88%, rgba(98,19,9,1) 95%, rgba(84,19,13,1) 100%);
background: linear-gradient(to right, rgba(124,26,9,1) 0%, rgba(173,22,5,1) 10%, rgba(114,16,4,1) 13%, rgba(173,22,5,1) 18%, rgba(114,16,4,1) 28%, rgba(173,22,5,1) 43%, rgba(114,16,4,1) 50%, rgba(173,22,5,1) 59%, rgba(114,16,4,1) 63%, rgba(173,25,5,1) 75%, rgba(114,16,4,1) 82%, rgba(173,22,5,1) 88%, rgba(98,19,9,1) 95%, rgba(84,19,13,1) 100%);
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#7c1a09', endColorstr='#54130d', GradientType=1 );

            table.center {
                margin-left: auto;
                margin-right: auto;

            }
        </style>
    </head>
    <body>
        <h1 style="text-align: center">Laugh Central</h1>

        <ul id="ul1"></ul>
        <div>
            <table id="table" class="center">

            </table>
        </div>


        <script>


            var url = "api/joke/all"

            console.log("1")
            fetch(url)
                    .then(res => res.json()) //in flow1, just do it
                    .then(jokes => {
                        // Inside this callback, and only here, the response data is available
                        console.log("data", jokes);
                        /* data now contains the response, converted to JavaScript
                         Observe the output from the log-output above
                         Now, just build your DOM changes using the data*/
                        var heading = "<tr><th>Id</th><th>Setup</th><th>Punch</th></tr>";
                        var lis = jokes.map((j) => {
                            line = "<tr><td>" + j.id + "</td><td>" + j.setup + "</td><td>" + j.punch + "</td></tr>"
                            return line;
                        })
                        document.getElementById("table").innerHTML = heading + lis.join("")

                    })
            console.log("2");


        </script>
    </body>
</html>
